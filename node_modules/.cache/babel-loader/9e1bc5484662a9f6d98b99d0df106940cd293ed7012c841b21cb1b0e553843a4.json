{"ast":null,"code":"\"use strict\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});const jsx_runtime_1=require(\"react/jsx-runtime\");const react_1=require(\"react\");const Modal_1=__importDefault(require(\"react-bootstrap/Modal\"));const Button_1=__importDefault(require(\"react-bootstrap/Button\"));// Login modal\nconst Login=_ref=>{let{show,handleClose,setLoginUser,setLoginState}=_ref;const[userName,setUserName]=(0,react_1.useState)(\"\");const[password,setPassword]=(0,react_1.useState)(\"\");const userNameHandler=event=>{setUserName(event.target.value);};const passwordHandler=event=>{setPassword(event.target.value);};const onLogin=()=>{// When login is successful, display username and set login state to true\nfetch(\"/login?username=\"+userName+\"&password=\"+password,{method:\"post\",body:\"\"}).then(res=>res.json()).then(data=>{if(data.result===\"success\"){setLoginUser(userName);setLoginState(true);handleClose();}else if(data.result===\"fail\"){setLoginErrorState(true);}});};// Login error state\nconst[loginErrorState,setLoginErrorState]=(0,react_1.useState)(false);return(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[\"Login\",(0,jsx_runtime_1.jsx)(\"div\",Object.assign({onClick:e=>e.stopPropagation()},{children:(0,jsx_runtime_1.jsxs)(Modal_1.default,Object.assign({show:show,onHide:handleClose},{children:[(0,jsx_runtime_1.jsx)(Modal_1.default.Header,Object.assign({closeButton:true},{children:(0,jsx_runtime_1.jsx)(Modal_1.default.Title,{children:\"LOGIN\"})})),(0,jsx_runtime_1.jsxs)(Modal_1.default.Body,{children:[(0,jsx_runtime_1.jsx)(\"div\",Object.assign({style:{display:loginErrorState?\"block\":\"none\"}},{children:\"username or password is incorrect\"})),(0,jsx_runtime_1.jsx)(\"input\",{onChange:userNameHandler,type:\"text\",name:\"username\",placeholder:\"username\"}),(0,jsx_runtime_1.jsx)(\"input\",{onChange:passwordHandler,type:\"password\",name:\"password\",placeholder:\"password\"}),(0,jsx_runtime_1.jsx)(\"input\",{type:\"submit\",value:\"Go\",onClick:()=>{onLogin();}})]}),(0,jsx_runtime_1.jsx)(Modal_1.default.Footer,{children:(0,jsx_runtime_1.jsx)(Button_1.default,Object.assign({variant:\"secondary\",onClick:handleClose},{children:\"Close\"}))})]}))}))]});};exports.default=Login;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","jsx_runtime_1","require","react_1","Modal_1","Button_1","Login","show","handleClose","setLoginUser","setLoginState","userName","setUserName","useState","password","setPassword","userNameHandler","event","target","passwordHandler","onLogin","fetch","method","body","then","res","json","data","result","setLoginErrorState","loginErrorState","jsxs","Fragment","children","jsx","assign","onClick","e","stopPropagation","default","onHide","Header","closeButton","Title","Body","style","display","onChange","type","name","placeholder","Footer","variant"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/components/Header/Login.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\r\nconst react_1 = require(\"react\");\r\nconst Modal_1 = __importDefault(require(\"react-bootstrap/Modal\"));\r\nconst Button_1 = __importDefault(require(\"react-bootstrap/Button\"));\r\n// Login modal\r\nconst Login = ({ show, handleClose, setLoginUser, setLoginState, }) => {\r\n    const [userName, setUserName] = (0, react_1.useState)(\"\");\r\n    const [password, setPassword] = (0, react_1.useState)(\"\");\r\n    const userNameHandler = (event) => {\r\n        setUserName(event.target.value);\r\n    };\r\n    const passwordHandler = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n    const onLogin = () => {\r\n        // When login is successful, display username and set login state to true\r\n        fetch(\"/login?username=\" + userName + \"&password=\" + password, {\r\n            method: \"post\",\r\n            body: \"\",\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n            if (data.result === \"success\") {\r\n                setLoginUser(userName);\r\n                setLoginState(true);\r\n                handleClose();\r\n            }\r\n            else if (data.result === \"fail\") {\r\n                setLoginErrorState(true);\r\n            }\r\n        });\r\n    };\r\n    // Login error state\r\n    const [loginErrorState, setLoginErrorState] = (0, react_1.useState)(false);\r\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [\"Login\", (0, jsx_runtime_1.jsx)(\"div\", Object.assign({ onClick: (e) => e.stopPropagation() }, { children: (0, jsx_runtime_1.jsxs)(Modal_1.default, Object.assign({ show: show, onHide: handleClose }, { children: [(0, jsx_runtime_1.jsx)(Modal_1.default.Header, Object.assign({ closeButton: true }, { children: (0, jsx_runtime_1.jsx)(Modal_1.default.Title, { children: \"LOGIN\" }) })), (0, jsx_runtime_1.jsxs)(Modal_1.default.Body, { children: [(0, jsx_runtime_1.jsx)(\"div\", Object.assign({ style: { display: loginErrorState ? \"block\" : \"none\" } }, { children: \"username or password is incorrect\" })), (0, jsx_runtime_1.jsx)(\"input\", { onChange: userNameHandler, type: \"text\", name: \"username\", placeholder: \"username\" }), (0, jsx_runtime_1.jsx)(\"input\", { onChange: passwordHandler, type: \"password\", name: \"password\", placeholder: \"password\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"submit\", value: \"Go\", onClick: () => {\r\n                                        onLogin();\r\n                                    } })] }), (0, jsx_runtime_1.jsx)(Modal_1.default.Footer, { children: (0, jsx_runtime_1.jsx)(Button_1.default, Object.assign({ variant: \"secondary\", onClick: handleClose }, { children: \"Close\" })) })] })) }))] }));\r\n};\r\nexports.default = Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}