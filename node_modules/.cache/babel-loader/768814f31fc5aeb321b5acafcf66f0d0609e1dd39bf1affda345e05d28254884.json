{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Body = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_router_dom_1 = require(\"react-router-dom\");\nconst Home_1 = require(\"../pages/Home\");\nconst Product_1 = require(\"../pages/Product\");\nconst Cart_1 = require(\"../pages/Cart\");\nconst Pay_1 = require(\"../pages/Pay\");\nconst react_1 = require(\"react\");\nfunction Body() {\n  const [productsInCart, setProductsInCart] = (0, react_1.useState)([]);\n  const [cart, setCart] = (0, react_1.useState)({\n    num: 0,\n    price: 0\n  });\n  // This method is called when a new item is added to cart\n  const handlePurchaseChange = props => {\n    let newPurchaseflag = true;\n    productsInCart.map(p => {\n      // If the same item is already in cart, add the number of products\n      // If not, add the new item as a new item in the list\n      if (p.product.productId === props.purchase.product.productId) {\n        p.purchaseAmmount += props.purchase.purchaseAmmount;\n        newPurchaseflag = false;\n      }\n    });\n    if (newPurchaseflag) {\n      setProductsInCart(prevPurchase => [...prevPurchase, props.purchase]);\n    }\n    // Update cart infomation\n    if (props.purchase.product.price === \"load\") throw new Error(\"Not number\");\n    setCart({\n      num: cart.num + props.purchase.purchaseAmmount,\n      price: cart.price + props.purchase.purchaseAmmount * props.purchase.product.price\n    });\n  };\n  // Delete product in cart (one kind at a time)\n  const handlePurchaseDelete = deleteIndex => {\n    if (productsInCart[deleteIndex].product.price === \"load\") {\n      throw new Error(\"Not number\");\n    } else {\n      let deleteItemNum = productsInCart[deleteIndex].purchaseAmmount;\n      let deleteItemPrice = productsInCart[deleteIndex].product.price * productsInCart[deleteIndex].purchaseAmmount;\n      setCart({\n        num: cart.num - deleteItemNum,\n        price: cart.price - deleteItemPrice\n      });\n    }\n    const deletedArr = productsInCart.filter((key, index) => {\n      if (index !== deleteIndex) {\n        return key;\n      }\n    });\n    setProductsInCart(deletedArr);\n  };\n  return (0, jsx_runtime_1.jsx)(\"div\", Object.assign({\n    style: {\n      fontSize: \"15px\"\n    }\n  }, {\n    children: (0, jsx_runtime_1.jsxs)(react_router_dom_1.Routes, {\n      children: [(0, jsx_runtime_1.jsx)(react_router_dom_1.Route, {\n        path: \"/\",\n        element: (0, jsx_runtime_1.jsx)(Home_1.Home, {\n          onPurchaseChange: handlePurchaseChange\n        })\n      }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, {\n        path: \"/product\",\n        element: (0, jsx_runtime_1.jsx)(Product_1.Product, {\n          onPurchaseChange: handlePurchaseChange\n        })\n      }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, {\n        path: \"/cart\",\n        element: (0, jsx_runtime_1.jsx)(Cart_1.Cart, {\n          purchases: productsInCart,\n          purchaseSum: cart,\n          onPurchaseChange: handlePurchaseChange,\n          onPurchaseDelete: handlePurchaseDelete\n        })\n      }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, {\n        path: \"/pay\",\n        element: (0, jsx_runtime_1.jsx)(Pay_1.Pay, {})\n      })]\n    })\n  }));\n}\n_c = Body;\nexports.Body = Body;\nexports.default = Body;\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["Object","defineProperty","exports","value","Body","jsx_runtime_1","require","react_router_dom_1","Home_1","Product_1","Cart_1","Pay_1","react_1","productsInCart","setProductsInCart","useState","cart","setCart","num","price","handlePurchaseChange","props","newPurchaseflag","map","p","product","productId","purchase","purchaseAmmount","prevPurchase","Error","handlePurchaseDelete","deleteIndex","deleteItemNum","deleteItemPrice","deletedArr","filter","key","index","jsx","assign","style","fontSize","children","jsxs","Routes","Route","path","element","Home","onPurchaseChange","Product","Cart","purchases","purchaseSum","onPurchaseDelete","Pay","default"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/routes/Body.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Body = void 0;\r\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\r\nconst react_router_dom_1 = require(\"react-router-dom\");\r\nconst Home_1 = require(\"../pages/Home\");\r\nconst Product_1 = require(\"../pages/Product\");\r\nconst Cart_1 = require(\"../pages/Cart\");\r\nconst Pay_1 = require(\"../pages/Pay\");\r\nconst react_1 = require(\"react\");\r\nfunction Body() {\r\n    const [productsInCart, setProductsInCart] = (0, react_1.useState)([]);\r\n    const [cart, setCart] = (0, react_1.useState)({ num: 0, price: 0 });\r\n    // This method is called when a new item is added to cart\r\n    const handlePurchaseChange = (props) => {\r\n        let newPurchaseflag = true;\r\n        productsInCart.map((p) => {\r\n            // If the same item is already in cart, add the number of products\r\n            // If not, add the new item as a new item in the list\r\n            if (p.product.productId === props.purchase.product.productId) {\r\n                p.purchaseAmmount += props.purchase.purchaseAmmount;\r\n                newPurchaseflag = false;\r\n            }\r\n        });\r\n        if (newPurchaseflag) {\r\n            setProductsInCart((prevPurchase) => [...prevPurchase, props.purchase]);\r\n        }\r\n        // Update cart infomation\r\n        if (props.purchase.product.price === \"load\")\r\n            throw new Error(\"Not number\");\r\n        setCart({\r\n            num: cart.num + props.purchase.purchaseAmmount,\r\n            price: cart.price +\r\n                props.purchase.purchaseAmmount * props.purchase.product.price,\r\n        });\r\n    };\r\n    // Delete product in cart (one kind at a time)\r\n    const handlePurchaseDelete = (deleteIndex) => {\r\n        if (productsInCart[deleteIndex].product.price === \"load\") {\r\n            throw new Error(\"Not number\");\r\n        }\r\n        else {\r\n            let deleteItemNum = productsInCart[deleteIndex].purchaseAmmount;\r\n            let deleteItemPrice = productsInCart[deleteIndex].product.price *\r\n                productsInCart[deleteIndex].purchaseAmmount;\r\n            setCart({ num: cart.num - deleteItemNum, price: cart.price - deleteItemPrice });\r\n        }\r\n        const deletedArr = productsInCart.filter((key, index) => {\r\n            if (index !== deleteIndex) {\r\n                return key;\r\n            }\r\n        });\r\n        setProductsInCart(deletedArr);\r\n    };\r\n    return ((0, jsx_runtime_1.jsx)(\"div\", Object.assign({ style: { fontSize: \"15px\" } }, { children: (0, jsx_runtime_1.jsxs)(react_router_dom_1.Routes, { children: [(0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: \"/\", element: (0, jsx_runtime_1.jsx)(Home_1.Home, { onPurchaseChange: handlePurchaseChange }) }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: \"/product\", element: (0, jsx_runtime_1.jsx)(Product_1.Product, { onPurchaseChange: handlePurchaseChange }) }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: \"/cart\", element: (0, jsx_runtime_1.jsx)(Cart_1.Cart, { purchases: productsInCart, purchaseSum: cart, onPurchaseChange: handlePurchaseChange, onPurchaseDelete: handlePurchaseDelete }) }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: \"/pay\", element: (0, jsx_runtime_1.jsx)(Pay_1.Pay, {}) })] }) })));\r\n}\r\nexports.Body = Body;\r\nexports.default = Body;\r\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,IAAI,GAAG,KAAK,CAAC;AACrB,MAAMC,aAAa,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAClD,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AACtD,MAAME,MAAM,GAAGF,OAAO,CAAC,eAAe,CAAC;AACvC,MAAMG,SAAS,GAAGH,OAAO,CAAC,kBAAkB,CAAC;AAC7C,MAAMI,MAAM,GAAGJ,OAAO,CAAC,eAAe,CAAC;AACvC,MAAMK,KAAK,GAAGL,OAAO,CAAC,cAAc,CAAC;AACrC,MAAMM,OAAO,GAAGN,OAAO,CAAC,OAAO,CAAC;AAChC,SAASF,IAAI,GAAG;EACZ,MAAM,CAACS,cAAc,EAAEC,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAEF,OAAO,CAACG,QAAQ,EAAE,EAAE,CAAC;EACrE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAEL,OAAO,CAACG,QAAQ,EAAE;IAAEG,GAAG,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EACnE;EACA,MAAMC,oBAAoB,GAAIC,KAAK,IAAK;IACpC,IAAIC,eAAe,GAAG,IAAI;IAC1BT,cAAc,CAACU,GAAG,CAAEC,CAAC,IAAK;MACtB;MACA;MACA,IAAIA,CAAC,CAACC,OAAO,CAACC,SAAS,KAAKL,KAAK,CAACM,QAAQ,CAACF,OAAO,CAACC,SAAS,EAAE;QAC1DF,CAAC,CAACI,eAAe,IAAIP,KAAK,CAACM,QAAQ,CAACC,eAAe;QACnDN,eAAe,GAAG,KAAK;MAC3B;IACJ,CAAC,CAAC;IACF,IAAIA,eAAe,EAAE;MACjBR,iBAAiB,CAAEe,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAER,KAAK,CAACM,QAAQ,CAAC,CAAC;IAC1E;IACA;IACA,IAAIN,KAAK,CAACM,QAAQ,CAACF,OAAO,CAACN,KAAK,KAAK,MAAM,EACvC,MAAM,IAAIW,KAAK,CAAC,YAAY,CAAC;IACjCb,OAAO,CAAC;MACJC,GAAG,EAAEF,IAAI,CAACE,GAAG,GAAGG,KAAK,CAACM,QAAQ,CAACC,eAAe;MAC9CT,KAAK,EAAEH,IAAI,CAACG,KAAK,GACbE,KAAK,CAACM,QAAQ,CAACC,eAAe,GAAGP,KAAK,CAACM,QAAQ,CAACF,OAAO,CAACN;IAChE,CAAC,CAAC;EACN,CAAC;EACD;EACA,MAAMY,oBAAoB,GAAIC,WAAW,IAAK;IAC1C,IAAInB,cAAc,CAACmB,WAAW,CAAC,CAACP,OAAO,CAACN,KAAK,KAAK,MAAM,EAAE;MACtD,MAAM,IAAIW,KAAK,CAAC,YAAY,CAAC;IACjC,CAAC,MACI;MACD,IAAIG,aAAa,GAAGpB,cAAc,CAACmB,WAAW,CAAC,CAACJ,eAAe;MAC/D,IAAIM,eAAe,GAAGrB,cAAc,CAACmB,WAAW,CAAC,CAACP,OAAO,CAACN,KAAK,GAC3DN,cAAc,CAACmB,WAAW,CAAC,CAACJ,eAAe;MAC/CX,OAAO,CAAC;QAAEC,GAAG,EAAEF,IAAI,CAACE,GAAG,GAAGe,aAAa;QAAEd,KAAK,EAAEH,IAAI,CAACG,KAAK,GAAGe;MAAgB,CAAC,CAAC;IACnF;IACA,MAAMC,UAAU,GAAGtB,cAAc,CAACuB,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;MACrD,IAAIA,KAAK,KAAKN,WAAW,EAAE;QACvB,OAAOK,GAAG;MACd;IACJ,CAAC,CAAC;IACFvB,iBAAiB,CAACqB,UAAU,CAAC;EACjC,CAAC;EACD,OAAQ,CAAC,CAAC,EAAE9B,aAAa,CAACkC,GAAG,EAAE,KAAK,EAAEvC,MAAM,CAACwC,MAAM,CAAC;IAAEC,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAO;EAAE,CAAC,EAAE;IAAEC,QAAQ,EAAE,CAAC,CAAC,EAAEtC,aAAa,CAACuC,IAAI,EAAErC,kBAAkB,CAACsC,MAAM,EAAE;MAAEF,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAEtC,aAAa,CAACkC,GAAG,EAAEhC,kBAAkB,CAACuC,KAAK,EAAE;QAAEC,IAAI,EAAE,GAAG;QAAEC,OAAO,EAAE,CAAC,CAAC,EAAE3C,aAAa,CAACkC,GAAG,EAAE/B,MAAM,CAACyC,IAAI,EAAE;UAAEC,gBAAgB,EAAE9B;QAAqB,CAAC;MAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEf,aAAa,CAACkC,GAAG,EAAEhC,kBAAkB,CAACuC,KAAK,EAAE;QAAEC,IAAI,EAAE,UAAU;QAAEC,OAAO,EAAE,CAAC,CAAC,EAAE3C,aAAa,CAACkC,GAAG,EAAE9B,SAAS,CAAC0C,OAAO,EAAE;UAAED,gBAAgB,EAAE9B;QAAqB,CAAC;MAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEf,aAAa,CAACkC,GAAG,EAAEhC,kBAAkB,CAACuC,KAAK,EAAE;QAAEC,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAE,CAAC,CAAC,EAAE3C,aAAa,CAACkC,GAAG,EAAE7B,MAAM,CAAC0C,IAAI,EAAE;UAAEC,SAAS,EAAExC,cAAc;UAAEyC,WAAW,EAAEtC,IAAI;UAAEkC,gBAAgB,EAAE9B,oBAAoB;UAAEmC,gBAAgB,EAAExB;QAAqB,CAAC;MAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE1B,aAAa,CAACkC,GAAG,EAAEhC,kBAAkB,CAACuC,KAAK,EAAE;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAE,CAAC,CAAC,EAAE3C,aAAa,CAACkC,GAAG,EAAE5B,KAAK,CAAC6C,GAAG,EAAE,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE,CAAC;EAAE,CAAC,CAAC,CAAC;AACv1B;AAAC,KA7CQpD,IAAI;AA8CbF,OAAO,CAACE,IAAI,GAAGA,IAAI;AACnBF,OAAO,CAACuD,OAAO,GAAGrD,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}