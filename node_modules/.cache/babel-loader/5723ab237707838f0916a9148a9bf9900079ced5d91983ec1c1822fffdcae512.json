{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kensu\\\\node_project\\\\EcSiteSample_OnlineMarketHandmadeJewelry_front_react\\\\src\\\\Body.tsx\",\n  _s = $RefreshSig$();\nimport { Route, Routes } from \"react-router-dom\";\nimport { Home } from \"./Home\";\nimport { Product } from \"./Product\";\nimport { Cart } from \"./Cart\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Body() {\n  _s();\n  const [purchases, setPurchases] = useState([]);\n  const [purchaseSum, setPurchaseSum] = useState({\n    num: 0,\n    price: 0\n  });\n  const handlePurchaseChange = props => {\n    let newPurchaseflag = true;\n    purchases.map(p => {\n      if (p.product.productId === props.purchase.product.productId) {\n        p.purchaseAmmount += props.purchase.purchaseAmmount;\n        newPurchaseflag = false;\n      }\n    });\n    if (newPurchaseflag) {\n      setPurchases(prevPurchase => [...prevPurchase, props.purchase]);\n    }\n    purshcaseSum();\n  };\n  const purshcaseSum = () => {\n    let itemCount = 0;\n    let priceCount = 0;\n    purchases.map(p => {\n      itemCount += p.purchaseAmmount;\n      if (p.product.price === \"load\") throw new Error(\"Not number\");\n      priceCount += p.product.price * p.purchaseAmmount;\n    });\n    setPurchaseSum({\n      num: itemCount,\n      price: priceCount\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(Home, {\n        onPurchaseChange: handlePurchaseChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/product\",\n      element: /*#__PURE__*/_jsxDEV(Product, {\n        onPurchaseChange: handlePurchaseChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/cart\",\n      element: /*#__PURE__*/_jsxDEV(Cart, {\n        purchases: purchases,\n        purchaseSum: purchaseSum,\n        onPurchaseChange: handlePurchaseChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Body, \"K9xZZ62HLyV05gLJUBFfEoX3Veo=\");\n_c = Body;\nexport default Body;\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["Route","Routes","Home","Product","Cart","useState","Body","purchases","setPurchases","purchaseSum","setPurchaseSum","num","price","handlePurchaseChange","props","newPurchaseflag","map","p","product","productId","purchase","purchaseAmmount","prevPurchase","purshcaseSum","itemCount","priceCount","Error"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/Body.tsx"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\r\nimport { Home } from \"./Home\";\r\nimport { Product } from \"./Product\";\r\nimport { Cart } from \"./Cart\";\r\nimport { PurchaseInfo } from \"./Types/Columns\";\r\nimport { useState } from \"react\";\r\n\r\nexport function Body() {\r\n  const [purchases, setPurchases] = useState<PurchaseInfo[]>([]);\r\n  const [purchaseSum, setPurchaseSum] = useState<{\r\n    num: number;\r\n    price: number;\r\n  }>({ num: 0, price: 0 });\r\n\r\n  const handlePurchaseChange = (props: { purchase: PurchaseInfo }) => {\r\n    let newPurchaseflag = true;\r\n    purchases.map((p) => {\r\n      if (p.product.productId === props.purchase.product.productId) {\r\n        p.purchaseAmmount += props.purchase.purchaseAmmount;\r\n        newPurchaseflag = false;\r\n      }\r\n    });\r\n    if (newPurchaseflag) {\r\n      setPurchases((prevPurchase) => [...prevPurchase, props.purchase]);\r\n    }\r\n    purshcaseSum();\r\n  };\r\n\r\n  const purshcaseSum = () => {\r\n    let itemCount = 0;\r\n    let priceCount = 0;\r\n    purchases.map((p) => {\r\n      itemCount += p.purchaseAmmount;\r\n      if (p.product.price === \"load\") throw new Error(\"Not number\");\r\n      priceCount += p.product.price * p.purchaseAmmount;\r\n    });\r\n    setPurchaseSum({ num: itemCount, price: priceCount });\r\n  };\r\n\r\n  return (\r\n    <Routes>\r\n      <Route\r\n        path=\"/\"\r\n        element={<Home onPurchaseChange={handlePurchaseChange} />}\r\n      />\r\n      <Route\r\n        path=\"/product\"\r\n        element={<Product onPurchaseChange={handlePurchaseChange} />}\r\n      />\r\n      <Route\r\n        path=\"/cart\"\r\n        element={\r\n          <Cart\r\n            purchases={purchases}\r\n            purchaseSum={purchaseSum}\r\n            onPurchaseChange={handlePurchaseChange}\r\n          />\r\n        }\r\n      />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,MAAM,QAAQ,kBAAkB;AAChD,SAASC,IAAI,QAAQ,QAAQ;AAC7B,SAASC,OAAO,QAAQ,WAAW;AACnC,SAASC,IAAI,QAAQ,QAAQ;AAE7B,SAASC,QAAQ,QAAQ,OAAO;AAAC;AAEjC,OAAO,SAASC,IAAI,GAAG;EAAA;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGH,QAAQ,CAAiB,EAAE,CAAC;EAC9D,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAG3C;IAAEM,GAAG,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EAExB,MAAMC,oBAAoB,GAAIC,KAAiC,IAAK;IAClE,IAAIC,eAAe,GAAG,IAAI;IAC1BR,SAAS,CAACS,GAAG,CAAEC,CAAC,IAAK;MACnB,IAAIA,CAAC,CAACC,OAAO,CAACC,SAAS,KAAKL,KAAK,CAACM,QAAQ,CAACF,OAAO,CAACC,SAAS,EAAE;QAC5DF,CAAC,CAACI,eAAe,IAAIP,KAAK,CAACM,QAAQ,CAACC,eAAe;QACnDN,eAAe,GAAG,KAAK;MACzB;IACF,CAAC,CAAC;IACF,IAAIA,eAAe,EAAE;MACnBP,YAAY,CAAEc,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAER,KAAK,CAACM,QAAQ,CAAC,CAAC;IACnE;IACAG,YAAY,EAAE;EAChB,CAAC;EAED,MAAMA,YAAY,GAAG,MAAM;IACzB,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,UAAU,GAAG,CAAC;IAClBlB,SAAS,CAACS,GAAG,CAAEC,CAAC,IAAK;MACnBO,SAAS,IAAIP,CAAC,CAACI,eAAe;MAC9B,IAAIJ,CAAC,CAACC,OAAO,CAACN,KAAK,KAAK,MAAM,EAAE,MAAM,IAAIc,KAAK,CAAC,YAAY,CAAC;MAC7DD,UAAU,IAAIR,CAAC,CAACC,OAAO,CAACN,KAAK,GAAGK,CAAC,CAACI,eAAe;IACnD,CAAC,CAAC;IACFX,cAAc,CAAC;MAAEC,GAAG,EAAEa,SAAS;MAAEZ,KAAK,EAAEa;IAAW,CAAC,CAAC;EACvD,CAAC;EAED,oBACE,QAAC,MAAM;IAAA,wBACL,QAAC,KAAK;MACJ,IAAI,EAAC,GAAG;MACR,OAAO,eAAE,QAAC,IAAI;QAAC,gBAAgB,EAAEZ;MAAqB;QAAA;QAAA;QAAA;MAAA;IAAI;MAAA;MAAA;MAAA;IAAA,QAC1D,eACF,QAAC,KAAK;MACJ,IAAI,EAAC,UAAU;MACf,OAAO,eAAE,QAAC,OAAO;QAAC,gBAAgB,EAAEA;MAAqB;QAAA;QAAA;QAAA;MAAA;IAAI;MAAA;MAAA;MAAA;IAAA,QAC7D,eACF,QAAC,KAAK;MACJ,IAAI,EAAC,OAAO;MACZ,OAAO,eACL,QAAC,IAAI;QACH,SAAS,EAAEN,SAAU;QACrB,WAAW,EAAEE,WAAY;QACzB,gBAAgB,EAAEI;MAAqB;QAAA;QAAA;QAAA;MAAA;IAE1C;MAAA;MAAA;MAAA;IAAA,QACD;EAAA;IAAA;IAAA;IAAA;EAAA,QACK;AAEb;AAAC,GAtDeP,IAAI;AAAA,KAAJA,IAAI;AAwDpB,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}