{"ast":null,"code":"var _s = $RefreshSig$();\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport { BACKEND_URL_DEVELOPMENT, BACKEND_URL_PRODUCTION } from \"../../properties/application\";\nconst backendUrl = process.env.NODE_ENV === \"development\" ? BACKEND_URL_DEVELOPMENT : BACKEND_URL_PRODUCTION;\n// Login modal\nconst Login = _ref => {\n  _s();\n  let {\n    show,\n    handleClose,\n    setLoginUser,\n    setLoginState\n  } = _ref;\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const userNameHandler = event => {\n    setUserName(event.target.value);\n  };\n  const passwordHandler = event => {\n    setPassword(event.target.value);\n  };\n  const onLogin = () => {\n    // When login is successful, display username and set login state to true\n    fetch(backendUrl + \"/login?username=\" + userName + \"&password=\" + password, {\n      method: \"post\",\n      body: \"\"\n    }).then(res => res.json()).then(data => {\n      if (data.result === \"success\") {\n        setLoginUser(userName);\n        setLoginState(true);\n        handleClose();\n      } else if (data.result === \"fail\") {\n        setLoginErrorState(true);\n      }\n    });\n  };\n  // Login error state\n  const [loginErrorState, setLoginErrorState] = useState(false);\n  return _jsxs(_Fragment, {\n    children: [\"Login\", _jsx(\"div\", Object.assign({\n      onClick: e => e.stopPropagation()\n    }, {\n      children: _jsxs(Modal, Object.assign({\n        show: show,\n        onHide: handleClose\n      }, {\n        children: [_jsx(Modal.Header, Object.assign({\n          closeButton: true\n        }, {\n          children: _jsx(Modal.Title, {\n            children: \"LOGIN\"\n          })\n        })), _jsxs(Modal.Body, {\n          children: [_jsx(\"div\", Object.assign({\n            style: {\n              display: loginErrorState ? \"block\" : \"none\"\n            }\n          }, {\n            children: \"username or password is incorrect\"\n          })), _jsx(\"input\", {\n            onChange: userNameHandler,\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"username\"\n          }), _jsx(\"input\", {\n            onChange: passwordHandler,\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"password\"\n          }), _jsx(\"input\", {\n            type: \"submit\",\n            value: \"Go\",\n            onClick: () => {\n              onLogin();\n            }\n          })]\n        }), _jsx(Modal.Footer, {\n          children: _jsx(Button, Object.assign({\n            variant: \"secondary\",\n            onClick: handleClose\n          }, {\n            children: \"Close\"\n          }))\n        })]\n      }))\n    }))]\n  });\n};\n_s(Login, \"zsGN+kDGZgMdG3iiSwMvY3dkJTM=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useState","Modal","Button","BACKEND_URL_DEVELOPMENT","BACKEND_URL_PRODUCTION","backendUrl","process","env","NODE_ENV","Login","show","handleClose","setLoginUser","setLoginState","userName","setUserName","password","setPassword","userNameHandler","event","target","value","passwordHandler","onLogin","fetch","method","body","then","res","json","data","result","setLoginErrorState","loginErrorState","children","Object","assign","onClick","e","stopPropagation","onHide","Header","closeButton","Title","Body","style","display","onChange","type","name","placeholder","Footer","variant"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/components/header/Login.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { BACKEND_URL_DEVELOPMENT, BACKEND_URL_PRODUCTION, } from \"../../properties/application\";\r\nconst backendUrl = process.env.NODE_ENV === \"development\"\r\n    ? BACKEND_URL_DEVELOPMENT\r\n    : BACKEND_URL_PRODUCTION;\r\n// Login modal\r\nconst Login = ({ show, handleClose, setLoginUser, setLoginState, }) => {\r\n    const [userName, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const userNameHandler = (event) => {\r\n        setUserName(event.target.value);\r\n    };\r\n    const passwordHandler = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n    const onLogin = () => {\r\n        // When login is successful, display username and set login state to true\r\n        fetch(backendUrl + \"/login?username=\" + userName + \"&password=\" + password, {\r\n            method: \"post\",\r\n            body: \"\",\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n            if (data.result === \"success\") {\r\n                setLoginUser(userName);\r\n                setLoginState(true);\r\n                handleClose();\r\n            }\r\n            else if (data.result === \"fail\") {\r\n                setLoginErrorState(true);\r\n            }\r\n        });\r\n    };\r\n    // Login error state\r\n    const [loginErrorState, setLoginErrorState] = useState(false);\r\n    return (_jsxs(_Fragment, { children: [\"Login\", _jsx(\"div\", Object.assign({ onClick: (e) => e.stopPropagation() }, { children: _jsxs(Modal, Object.assign({ show: show, onHide: handleClose }, { children: [_jsx(Modal.Header, Object.assign({ closeButton: true }, { children: _jsx(Modal.Title, { children: \"LOGIN\" }) })), _jsxs(Modal.Body, { children: [_jsx(\"div\", Object.assign({ style: { display: loginErrorState ? \"block\" : \"none\" } }, { children: \"username or password is incorrect\" })), _jsx(\"input\", { onChange: userNameHandler, type: \"text\", name: \"username\", placeholder: \"username\" }), _jsx(\"input\", { onChange: passwordHandler, type: \"password\", name: \"password\", placeholder: \"password\" }), _jsx(\"input\", { type: \"submit\", value: \"Go\", onClick: () => {\r\n                                        onLogin();\r\n                                    } })] }), _jsx(Modal.Footer, { children: _jsx(Button, Object.assign({ variant: \"secondary\", onClick: handleClose }, { children: \"Close\" })) })] })) }))] }));\r\n};\r\nexport default Login;\r\n"],"mappings":";AAAA,SAASA,GAAG,IAAIC,IAAI,EAAEC,IAAI,IAAIC,KAAK,EAAEC,QAAQ,IAAIC,SAAS,QAAQ,mBAAmB;AACrF,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,uBAAuB;AACzC,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,uBAAuB,EAAEC,sBAAsB,QAAS,8BAA8B;AAC/F,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GACnDL,uBAAuB,GACvBC,sBAAsB;AAC5B;AACA,MAAMK,KAAK,GAAG,QAAyD;EAAA;EAAA,IAAxD;IAAEC,IAAI;IAAEC,WAAW;IAAEC,YAAY;IAAEC;EAAe,CAAC;EAC9D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMkB,eAAe,GAAIC,KAAK,IAAK;IAC/BJ,WAAW,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACnC,CAAC;EACD,MAAMC,eAAe,GAAIH,KAAK,IAAK;IAC/BF,WAAW,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACnC,CAAC;EACD,MAAME,OAAO,GAAG,MAAM;IAClB;IACAC,KAAK,CAACnB,UAAU,GAAG,kBAAkB,GAAGS,QAAQ,GAAG,YAAY,GAAGE,QAAQ,EAAE;MACxES,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;IACV,CAAC,CAAC,CACGC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MAChB,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;QAC3BnB,YAAY,CAACE,QAAQ,CAAC;QACtBD,aAAa,CAAC,IAAI,CAAC;QACnBF,WAAW,EAAE;MACjB,CAAC,MACI,IAAImB,IAAI,CAACC,MAAM,KAAK,MAAM,EAAE;QAC7BC,kBAAkB,CAAC,IAAI,CAAC;MAC5B;IACJ,CAAC,CAAC;EACN,CAAC;EACD;EACA,MAAM,CAACC,eAAe,EAAED,kBAAkB,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EAC7D,OAAQH,KAAK,CAACE,SAAS,EAAE;IAAEmC,QAAQ,EAAE,CAAC,OAAO,EAAEvC,IAAI,CAAC,KAAK,EAAEwC,MAAM,CAACC,MAAM,CAAC;MAAEC,OAAO,EAAGC,CAAC,IAAKA,CAAC,CAACC,eAAe;IAAG,CAAC,EAAE;MAAEL,QAAQ,EAAErC,KAAK,CAACI,KAAK,EAAEkC,MAAM,CAACC,MAAM,CAAC;QAAE1B,IAAI,EAAEA,IAAI;QAAE8B,MAAM,EAAE7B;MAAY,CAAC,EAAE;QAAEuB,QAAQ,EAAE,CAACvC,IAAI,CAACM,KAAK,CAACwC,MAAM,EAAEN,MAAM,CAACC,MAAM,CAAC;UAAEM,WAAW,EAAE;QAAK,CAAC,EAAE;UAAER,QAAQ,EAAEvC,IAAI,CAACM,KAAK,CAAC0C,KAAK,EAAE;YAAET,QAAQ,EAAE;UAAQ,CAAC;QAAE,CAAC,CAAC,CAAC,EAAErC,KAAK,CAACI,KAAK,CAAC2C,IAAI,EAAE;UAAEV,QAAQ,EAAE,CAACvC,IAAI,CAAC,KAAK,EAAEwC,MAAM,CAACC,MAAM,CAAC;YAAES,KAAK,EAAE;cAAEC,OAAO,EAAEb,eAAe,GAAG,OAAO,GAAG;YAAO;UAAE,CAAC,EAAE;YAAEC,QAAQ,EAAE;UAAoC,CAAC,CAAC,CAAC,EAAEvC,IAAI,CAAC,OAAO,EAAE;YAAEoD,QAAQ,EAAE7B,eAAe;YAAE8B,IAAI,EAAE,MAAM;YAAEC,IAAI,EAAE,UAAU;YAAEC,WAAW,EAAE;UAAW,CAAC,CAAC,EAAEvD,IAAI,CAAC,OAAO,EAAE;YAAEoD,QAAQ,EAAEzB,eAAe;YAAE0B,IAAI,EAAE,UAAU;YAAEC,IAAI,EAAE,UAAU;YAAEC,WAAW,EAAE;UAAW,CAAC,CAAC,EAAEvD,IAAI,CAAC,OAAO,EAAE;YAAEqD,IAAI,EAAE,QAAQ;YAAE3B,KAAK,EAAE,IAAI;YAAEgB,OAAO,EAAE,MAAM;cACjtBd,OAAO,EAAE;YACb;UAAE,CAAC,CAAC;QAAE,CAAC,CAAC,EAAE5B,IAAI,CAACM,KAAK,CAACkD,MAAM,EAAE;UAAEjB,QAAQ,EAAEvC,IAAI,CAACO,MAAM,EAAEiC,MAAM,CAACC,MAAM,CAAC;YAAEgB,OAAO,EAAE,WAAW;YAAEf,OAAO,EAAE1B;UAAY,CAAC,EAAE;YAAEuB,QAAQ,EAAE;UAAQ,CAAC,CAAC;QAAE,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE,CAAC,CAAC,CAAC;EAAE,CAAC,CAAC;AAC/L,CAAC;AAAC,GAhCIzB,KAAK;AAAA,KAALA,KAAK;AAiCX,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}