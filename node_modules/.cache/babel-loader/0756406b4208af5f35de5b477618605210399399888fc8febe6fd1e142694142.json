{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst Modal_1 = __importDefault(require(\"react-bootstrap/Modal\"));\nconst Button_1 = __importDefault(require(\"react-bootstrap/Button\"));\nconst application_1 = require(\".../application\");\nconst backendUrl = process.env.NODE_ENV === \"development\" ? application_1.BACKEND_URL_DEVELOPMENT : application_1.BACKEND_URL_PRODUCTION;\n// Login modal\nconst Login = _ref => {\n  let {\n    show,\n    handleClose,\n    setLoginUser,\n    setLoginState\n  } = _ref;\n  const [userName, setUserName] = (0, react_1.useState)(\"\");\n  const [password, setPassword] = (0, react_1.useState)(\"\");\n  const userNameHandler = event => {\n    setUserName(event.target.value);\n  };\n  const passwordHandler = event => {\n    setPassword(event.target.value);\n  };\n  const onLogin = () => {\n    // When login is successful, display username and set login state to true\n    fetch(\"/login?username=\" + userName + \"&password=\" + password, {\n      method: \"post\",\n      body: \"\"\n    }).then(res => res.json()).then(data => {\n      if (data.result === \"success\") {\n        setLoginUser(userName);\n        setLoginState(true);\n        handleClose();\n      } else if (data.result === \"fail\") {\n        setLoginErrorState(true);\n      }\n    });\n  };\n  // Login error state\n  const [loginErrorState, setLoginErrorState] = (0, react_1.useState)(false);\n  return (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, {\n    children: [\"Login\", (0, jsx_runtime_1.jsx)(\"div\", Object.assign({\n      onClick: e => e.stopPropagation()\n    }, {\n      children: (0, jsx_runtime_1.jsxs)(Modal_1.default, Object.assign({\n        show: show,\n        onHide: handleClose\n      }, {\n        children: [(0, jsx_runtime_1.jsx)(Modal_1.default.Header, Object.assign({\n          closeButton: true\n        }, {\n          children: (0, jsx_runtime_1.jsx)(Modal_1.default.Title, {\n            children: \"LOGIN\"\n          })\n        })), (0, jsx_runtime_1.jsxs)(Modal_1.default.Body, {\n          children: [(0, jsx_runtime_1.jsx)(\"div\", Object.assign({\n            style: {\n              display: loginErrorState ? \"block\" : \"none\"\n            }\n          }, {\n            children: \"username or password is incorrect\"\n          })), (0, jsx_runtime_1.jsx)(\"input\", {\n            onChange: userNameHandler,\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"username\"\n          }), (0, jsx_runtime_1.jsx)(\"input\", {\n            onChange: passwordHandler,\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"password\"\n          }), (0, jsx_runtime_1.jsx)(\"input\", {\n            type: \"submit\",\n            value: \"Go\",\n            onClick: () => {\n              onLogin();\n            }\n          })]\n        }), (0, jsx_runtime_1.jsx)(Modal_1.default.Footer, {\n          children: (0, jsx_runtime_1.jsx)(Button_1.default, Object.assign({\n            variant: \"secondary\",\n            onClick: handleClose\n          }, {\n            children: \"Close\"\n          }))\n        })]\n      }))\n    }))]\n  });\n};\n_c = Login;\nexports.default = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","jsx_runtime_1","require","react_1","Modal_1","Button_1","application_1","backendUrl","process","env","NODE_ENV","BACKEND_URL_DEVELOPMENT","BACKEND_URL_PRODUCTION","Login","show","handleClose","setLoginUser","setLoginState","userName","setUserName","useState","password","setPassword","userNameHandler","event","target","passwordHandler","onLogin","fetch","method","body","then","res","json","data","result","setLoginErrorState","loginErrorState","jsxs","Fragment","children","jsx","assign","onClick","e","stopPropagation","default","onHide","Header","closeButton","Title","Body","style","display","onChange","type","name","placeholder","Footer","variant"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/components/header/Login.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\r\nconst react_1 = require(\"react\");\r\nconst Modal_1 = __importDefault(require(\"react-bootstrap/Modal\"));\r\nconst Button_1 = __importDefault(require(\"react-bootstrap/Button\"));\r\nconst application_1 = require(\".../application\");\r\nconst backendUrl = process.env.NODE_ENV === \"development\"\r\n    ? application_1.BACKEND_URL_DEVELOPMENT\r\n    : application_1.BACKEND_URL_PRODUCTION;\r\n// Login modal\r\nconst Login = ({ show, handleClose, setLoginUser, setLoginState, }) => {\r\n    const [userName, setUserName] = (0, react_1.useState)(\"\");\r\n    const [password, setPassword] = (0, react_1.useState)(\"\");\r\n    const userNameHandler = (event) => {\r\n        setUserName(event.target.value);\r\n    };\r\n    const passwordHandler = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n    const onLogin = () => {\r\n        // When login is successful, display username and set login state to true\r\n        fetch(\"/login?username=\" + userName + \"&password=\" + password, {\r\n            method: \"post\",\r\n            body: \"\",\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n            if (data.result === \"success\") {\r\n                setLoginUser(userName);\r\n                setLoginState(true);\r\n                handleClose();\r\n            }\r\n            else if (data.result === \"fail\") {\r\n                setLoginErrorState(true);\r\n            }\r\n        });\r\n    };\r\n    // Login error state\r\n    const [loginErrorState, setLoginErrorState] = (0, react_1.useState)(false);\r\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [\"Login\", (0, jsx_runtime_1.jsx)(\"div\", Object.assign({ onClick: (e) => e.stopPropagation() }, { children: (0, jsx_runtime_1.jsxs)(Modal_1.default, Object.assign({ show: show, onHide: handleClose }, { children: [(0, jsx_runtime_1.jsx)(Modal_1.default.Header, Object.assign({ closeButton: true }, { children: (0, jsx_runtime_1.jsx)(Modal_1.default.Title, { children: \"LOGIN\" }) })), (0, jsx_runtime_1.jsxs)(Modal_1.default.Body, { children: [(0, jsx_runtime_1.jsx)(\"div\", Object.assign({ style: { display: loginErrorState ? \"block\" : \"none\" } }, { children: \"username or password is incorrect\" })), (0, jsx_runtime_1.jsx)(\"input\", { onChange: userNameHandler, type: \"text\", name: \"username\", placeholder: \"username\" }), (0, jsx_runtime_1.jsx)(\"input\", { onChange: passwordHandler, type: \"password\", name: \"password\", placeholder: \"password\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"submit\", value: \"Go\", onClick: () => {\r\n                                        onLogin();\r\n                                    } })] }), (0, jsx_runtime_1.jsx)(Modal_1.default.Footer, { children: (0, jsx_runtime_1.jsx)(Button_1.default, Object.assign({ variant: \"secondary\", onClick: handleClose }, { children: \"Close\" })) })] })) }))] }));\r\n};\r\nexports.default = Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}