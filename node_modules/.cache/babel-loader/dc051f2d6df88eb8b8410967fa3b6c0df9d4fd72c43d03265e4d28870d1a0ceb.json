{"ast":null,"code":"import _slicedToArray from\"C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";import{useState}from\"react\";import Modal from\"react-bootstrap/Modal\";import Button from\"react-bootstrap/Button\";import{BACKEND_URL_DEVELOPMENT,BACKEND_URL_PRODUCTION}from\"../../properties/application\";var backendUrl=process.env.NODE_ENV===\"development\"?BACKEND_URL_DEVELOPMENT:BACKEND_URL_PRODUCTION;// Login modal\nvar Login=function Login(_ref){var show=_ref.show,handleClose=_ref.handleClose,setLoginUser=_ref.setLoginUser,setLoginState=_ref.setLoginState;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var userNameHandler=function userNameHandler(event){setUserName(event.target.value);};var passwordHandler=function passwordHandler(event){setPassword(event.target.value);};var onLogin=function onLogin(){// When login is successful, display username and set login state to true\nfetch(backendUrl+\"/login?username=\"+userName+\"&password=\"+password,{method:\"post\",body:\"\"}).then(function(res){return res.json();}).then(function(data){if(data.result===\"success\"){setLoginUser(userName);setLoginState(true);handleClose();}else if(data.result===\"fail\"){setLoginErrorState(true);}});};// Login error state\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loginErrorState=_useState6[0],setLoginErrorState=_useState6[1];return _jsxs(_Fragment,{children:[\"Login\",_jsx(\"div\",Object.assign({onClick:function onClick(e){return e.stopPropagation();}},{children:_jsxs(Modal,Object.assign({show:show,onHide:handleClose},{children:[_jsx(Modal.Header,Object.assign({closeButton:true},{children:_jsx(Modal.Title,{children:\"LOGIN\"})})),_jsxs(Modal.Body,{children:[_jsx(\"div\",Object.assign({style:{display:loginErrorState?\"block\":\"none\"}},{children:\"username or password is incorrect\"})),_jsx(\"input\",{onChange:userNameHandler,type:\"text\",name:\"username\",placeholder:\"username\"}),_jsx(\"input\",{onChange:passwordHandler,type:\"password\",name:\"password\",placeholder:\"password\"}),_jsx(\"input\",{type:\"submit\",value:\"Go\",onClick:function onClick(){onLogin();}})]}),_jsx(Modal.Footer,{children:_jsx(Button,Object.assign({variant:\"secondary\",onClick:handleClose},{children:\"Close\"}))})]}))}))]});};export default Login;","map":{"version":3,"names":["jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useState","Modal","Button","BACKEND_URL_DEVELOPMENT","BACKEND_URL_PRODUCTION","backendUrl","process","env","NODE_ENV","Login","show","handleClose","setLoginUser","setLoginState","userName","setUserName","password","setPassword","userNameHandler","event","target","value","passwordHandler","onLogin","fetch","method","body","then","res","json","data","result","setLoginErrorState","loginErrorState","children","Object","assign","onClick","e","stopPropagation","onHide","Header","closeButton","Title","Body","style","display","onChange","type","name","placeholder","Footer","variant"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/components/header/Login.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { BACKEND_URL_DEVELOPMENT, BACKEND_URL_PRODUCTION, } from \"../../properties/application\";\r\nconst backendUrl = process.env.NODE_ENV === \"development\"\r\n    ? BACKEND_URL_DEVELOPMENT\r\n    : BACKEND_URL_PRODUCTION;\r\n// Login modal\r\nconst Login = ({ show, handleClose, setLoginUser, setLoginState, }) => {\r\n    const [userName, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const userNameHandler = (event) => {\r\n        setUserName(event.target.value);\r\n    };\r\n    const passwordHandler = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n    const onLogin = () => {\r\n        // When login is successful, display username and set login state to true\r\n        fetch(backendUrl + \"/login?username=\" + userName + \"&password=\" + password, {\r\n            method: \"post\",\r\n            body: \"\",\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n            if (data.result === \"success\") {\r\n                setLoginUser(userName);\r\n                setLoginState(true);\r\n                handleClose();\r\n            }\r\n            else if (data.result === \"fail\") {\r\n                setLoginErrorState(true);\r\n            }\r\n        });\r\n    };\r\n    // Login error state\r\n    const [loginErrorState, setLoginErrorState] = useState(false);\r\n    return (_jsxs(_Fragment, { children: [\"Login\", _jsx(\"div\", Object.assign({ onClick: (e) => e.stopPropagation() }, { children: _jsxs(Modal, Object.assign({ show: show, onHide: handleClose }, { children: [_jsx(Modal.Header, Object.assign({ closeButton: true }, { children: _jsx(Modal.Title, { children: \"LOGIN\" }) })), _jsxs(Modal.Body, { children: [_jsx(\"div\", Object.assign({ style: { display: loginErrorState ? \"block\" : \"none\" } }, { children: \"username or password is incorrect\" })), _jsx(\"input\", { onChange: userNameHandler, type: \"text\", name: \"username\", placeholder: \"username\" }), _jsx(\"input\", { onChange: passwordHandler, type: \"password\", name: \"password\", placeholder: \"password\" }), _jsx(\"input\", { type: \"submit\", value: \"Go\", onClick: () => {\r\n                                        onLogin();\r\n                                    } })] }), _jsx(Modal.Footer, { children: _jsx(Button, Object.assign({ variant: \"secondary\", onClick: handleClose }, { children: \"Close\" })) })] })) }))] }));\r\n};\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}