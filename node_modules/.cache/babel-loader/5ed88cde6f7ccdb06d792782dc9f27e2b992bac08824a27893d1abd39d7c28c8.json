{"ast":null,"code":"\"use strict\";import _slicedToArray from\"C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});var jsx_runtime_1=require(\"react/jsx-runtime\");var react_1=require(\"react\");var Modal_1=__importDefault(require(\"react-bootstrap/Modal\"));var Button_1=__importDefault(require(\"react-bootstrap/Button\"));var application_1=require(\"../../properties/application\");var backendUrl=process.env.NODE_ENV===\"development\"?application_1.BACKEND_URL_DEVELOPMENT:application_1.BACKEND_URL_PRODUCTION;// Login modal\nvar Login=function Login(_ref){var show=_ref.show,handleClose=_ref.handleClose,setLoginUser=_ref.setLoginUser,setLoginState=_ref.setLoginState;var _ref2=(0,react_1.useState)(\"\"),_ref3=_slicedToArray(_ref2,2),userName=_ref3[0],setUserName=_ref3[1];var _ref4=(0,react_1.useState)(\"\"),_ref5=_slicedToArray(_ref4,2),password=_ref5[0],setPassword=_ref5[1];var userNameHandler=function userNameHandler(event){setUserName(event.target.value);};var passwordHandler=function passwordHandler(event){setPassword(event.target.value);};var onLogin=function onLogin(){// When login is successful, display username and set login state to true\nfetch(backendUrl+\"/login?username=\"+userName+\"&password=\"+password,{method:\"post\",body:\"\"}).then(function(res){return res.json();}).then(function(data){if(data.result===\"success\"){setLoginUser(userName);setLoginState(true);handleClose();}else if(data.result===\"fail\"){setLoginErrorState(true);}});};// Login error state\nvar _ref6=(0,react_1.useState)(false),_ref7=_slicedToArray(_ref6,2),loginErrorState=_ref7[0],setLoginErrorState=_ref7[1];return(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[\"Login\",(0,jsx_runtime_1.jsx)(\"div\",{onClick:function onClick(e){return e.stopPropagation();},children:(0,jsx_runtime_1.jsxs)(Modal_1.default,{show:show,onHide:handleClose,children:[(0,jsx_runtime_1.jsx)(Modal_1.default.Header,{closeButton:true,children:(0,jsx_runtime_1.jsx)(Modal_1.default.Title,{children:\"LOGIN\"})}),(0,jsx_runtime_1.jsxs)(Modal_1.default.Body,{children:[(0,jsx_runtime_1.jsx)(\"div\",{style:{display:loginErrorState?\"block\":\"none\"},children:\"username or password is incorrect\"}),(0,jsx_runtime_1.jsx)(\"input\",{onChange:userNameHandler,type:\"text\",name:\"username\",placeholder:\"username\"}),(0,jsx_runtime_1.jsx)(\"input\",{onChange:passwordHandler,type:\"password\",name:\"password\",placeholder:\"password\"}),(0,jsx_runtime_1.jsx)(\"input\",{type:\"submit\",value:\"Go\",onClick:function onClick(){onLogin();}})]}),(0,jsx_runtime_1.jsx)(Modal_1.default.Footer,{children:(0,jsx_runtime_1.jsx)(Button_1.default,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})})]})})]});};exports.default=Login;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","jsx_runtime_1","require","react_1","Modal_1","Button_1","application_1","backendUrl","process","env","NODE_ENV","BACKEND_URL_DEVELOPMENT","BACKEND_URL_PRODUCTION","Login","show","handleClose","setLoginUser","setLoginState","useState","userName","setUserName","password","setPassword","userNameHandler","event","target","passwordHandler","onLogin","fetch","method","body","then","res","json","data","result","setLoginErrorState","loginErrorState","jsxs","Fragment","children","jsx","onClick","e","stopPropagation","default","onHide","Header","closeButton","Title","Body","style","display","onChange","type","name","placeholder","Footer","variant"],"sources":["C:/Users/kensu/node_project/EcSiteSample_OnlineMarketHandmadeJewelry_front_react/src/components/header/Login.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst Modal_1 = __importDefault(require(\"react-bootstrap/Modal\"));\nconst Button_1 = __importDefault(require(\"react-bootstrap/Button\"));\nconst application_1 = require(\"../../properties/application\");\nconst backendUrl = process.env.NODE_ENV === \"development\"\n    ? application_1.BACKEND_URL_DEVELOPMENT\n    : application_1.BACKEND_URL_PRODUCTION;\n// Login modal\nconst Login = ({ show, handleClose, setLoginUser, setLoginState, }) => {\n    const [userName, setUserName] = (0, react_1.useState)(\"\");\n    const [password, setPassword] = (0, react_1.useState)(\"\");\n    const userNameHandler = (event) => {\n        setUserName(event.target.value);\n    };\n    const passwordHandler = (event) => {\n        setPassword(event.target.value);\n    };\n    const onLogin = () => {\n        // When login is successful, display username and set login state to true\n        fetch(backendUrl + \"/login?username=\" + userName + \"&password=\" + password, {\n            method: \"post\",\n            body: \"\",\n        })\n            .then((res) => res.json())\n            .then((data) => {\n            if (data.result === \"success\") {\n                setLoginUser(userName);\n                setLoginState(true);\n                handleClose();\n            }\n            else if (data.result === \"fail\") {\n                setLoginErrorState(true);\n            }\n        });\n    };\n    // Login error state\n    const [loginErrorState, setLoginErrorState] = (0, react_1.useState)(false);\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [\"Login\", (0, jsx_runtime_1.jsx)(\"div\", { onClick: (e) => e.stopPropagation(), children: (0, jsx_runtime_1.jsxs)(Modal_1.default, { show: show, onHide: handleClose, children: [(0, jsx_runtime_1.jsx)(Modal_1.default.Header, { closeButton: true, children: (0, jsx_runtime_1.jsx)(Modal_1.default.Title, { children: \"LOGIN\" }) }), (0, jsx_runtime_1.jsxs)(Modal_1.default.Body, { children: [(0, jsx_runtime_1.jsx)(\"div\", { style: { display: loginErrorState ? \"block\" : \"none\" }, children: \"username or password is incorrect\" }), (0, jsx_runtime_1.jsx)(\"input\", { onChange: userNameHandler, type: \"text\", name: \"username\", placeholder: \"username\" }), (0, jsx_runtime_1.jsx)(\"input\", { onChange: passwordHandler, type: \"password\", name: \"password\", placeholder: \"password\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"submit\", value: \"Go\", onClick: () => {\n                                        onLogin();\n                                    } })] }), (0, jsx_runtime_1.jsx)(Modal_1.default.Footer, { children: (0, jsx_runtime_1.jsx)(Button_1.default, { variant: \"secondary\", onClick: handleClose, children: \"Close\" }) })] }) })] }));\n};\nexports.default = Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}